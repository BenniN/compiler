<!-- Minimal required platform for module.xml, handwritten -->
<?xml version="1.0" encoding="UTF-8" ?>
<platform file="./tests/010/platform.xml">

    <connection name="I2CBus">
        <parameters>
            <CHAR length="32767">
                <NotEmpty/>
            </CHAR>
        </parameters>
        <associationProvider>
            <associationType name="I2CBusProvider"/>
        </associationProvider>
    </connection>

    <dation name="PCF8574Out">
        <parameters>
            <BIT length="8">
                <VALUES>
                    '20'B4, '21'B4, '22'B4, '23'B4,
                    '24'B4, '25'B4, '26'B4, '27'B4,
                    '38'B4, '39'B4, '3A'B4, '3B'B4,
                    '3C'B4, '3D'B4, '3E'B4, '3F'B4,
                </VALUES>
            </BIT>
            <FIXED length="15" nick="start"><FIXEDRANGE>0,7</FIXEDRANGE></FIXED>
            <FIXED length="15" nick="width"><FIXEDRANGE>1,[1+start_upper]</FIXEDRANGE></FIXED>
        </parameters>
        <attributes>SYSTEM, BASIC, OUT</attributes>
        <data>BIT($width)</data>
        <needAssociation name="I2CBusProvider" />
        <layoutGenerator name="pcfBits">
            def pcfBits(name, provider, params) {
# name defaults to dations system name
# params are the dations params
                var list = bitslist_from_width(params[1].to_int(), params[2].to_int(), 8);
                return someHelperFunction(name, provider, params[0], list);
            }
        </layoutGenerator>
    </dation>

    <dation name="RPiDigitalOut">
        <parameters>
            <FIXED length="31">
                <VALUES>2,3,4,7,8,9,10,11,14,15,17,18,21,22,23,24,25,27</VALUES>
            </FIXED>
            <FIXED length="31" nick="width"> <FIXEDGT>0</FIXEDGT></FIXED>
        </parameters>
        <attributes> OUT, SYSTEM, BASIC</attributes>
        <data>BIT($width)</data>
        <layoutGenerator name="gpioBits">
            def gpioBits(name, provider, params) {
# name defaults to dations system name
# params are the dations params
                var list = bitslist_from_width(params[0].to_int(), params[1].to_int(), 32);
                return gpioBits(name, provider, params[0], list);
            }
        </layoutGenerator>
    </dation>
    <dation name="RPiDigitalIn">
        <parameters>
            <FIXED length="31">
                <VALUES>2,3,4,7,8,9,10,11,14,15,17,18,21,22,23,24,25,27</VALUES>
            </FIXED>
            <FIXED length="31" nick="width"> <FIXEDGT>0</FIXEDGT></FIXED>
        </parameters>
        <attributes> OUT, SYSTEM, BASIC</attributes>
        <data>BIT($width)</data>
        <layoutGenerator name="gpioBitsIn">
            def gpioBitsIn(name, provider, params) {
# name defaults to dations system name
# params are the dations params
                var list = bitslist_from_width(params[0].to_int(), params[1].to_int(), 32);
                return gpioBits(name, provider, params[0], list);
            }
        </layoutGenerator>
    </dation>


   <configuration name="Log" instances="1" >
      <parameters>
         <CHAR length="4">
           <NotEmpty/>
         </CHAR>
      </parameters>
      <needAssociation name="AlphicOutProvider"/>
   </configuration>

   <dation name="StdOut">
      <parameters> 
      </parameters>
      <attributes>FORWARD, OUT, SYSTEM</attributes>
      <data>ALPHIC</data>
      <associationProvider>
         <associationType name="AlphicOutProvider"/>
      </associationProvider>
   </dation>

   <interrupt name="UnixSignal">
      <parameters>
         <FIXED length="31">
            <VALUES>1,2,3,15,16,17</VALUES>
         </FIXED>
      </parameters>
   </interrupt>
   <signal name="FixedRangeSignal"/>
   <signal name="FixedDivideByZeroSignal"/>

</platform>
