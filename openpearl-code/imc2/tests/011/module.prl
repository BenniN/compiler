MODULE(ok);
SYSTEM;
   i2cbus1: I2CBus('/dev/i2c-1');  ! benötigt GPIO 2+3
   bits1 :RPiDigitalOut(4,3);     ! belegt GPIO 4-6
   bits1conflikt :RPiDigitalOut(2,2);     ! belegt GPIO 2-3

   ! portexpander 1 an i2cbus1
   remoteBits1 : PCF8574Out('20'B4, 7,2) --- i2cbus1; ! Bit 7+6
   ! PCF8574Out und PCD8574In sind eigentlich ein Gerät;
   ! die Bits überlagern sich nicht und damit ist das noch ok
   remoteBits2 : PCF8574In('20'B4, 5,2) --- i2cbus1; ! Bit 5+4

   ! mehrfache Nutzung von bit 4 auf diesem Baustein
   remoteBits2conflict : PCF8574In('20'B4, 4,2) --- i2cbus1; ! Bit 4+3
   temperature1 : LM75('48'B4) --- i2cbus2; ! temp sensor

   ! portexpander 2 an i2cbus1
   remoteBits3 : PCF8574Out('21'B4, 7,2) --- i2cbus1; ! Bit 7+6
   remoteBits4 : PCF8574Out('21'B4, 5,2) --- i2cbus1; ! Bit 5+4
   i2cbus2: I2CBus('/dev/i2c-2');  !Tiny-USB läuft über USB
   ! portexpander 1 an i2cbus2
   remoteBits5 : PCF8574Out('21'B4, 7,2) --- i2cbus2; ! Bit 7+6

   ! other system device on same adress on external bus
   temperature2conflict : LM75('21'B4) --- i2cbus2;

MODEND;
